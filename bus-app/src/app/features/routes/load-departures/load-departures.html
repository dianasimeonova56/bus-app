<div class="row">
    <div class="departures col mt-5">
        <h2>Departures</h2>


        @for(route of this.departures$ | async; track route._id){
        <div class="d-flex">
            <div [appHighlightStop]="route.startStop.stopId._id" [searchedStopId]="searchedStopId">Departs from:
                {{route.startStop.stopId.name}} at {{route.startHour}}</div>
            <div [appHighlightStop]="route.endStop.stopId._id" [searchedStopId]="searchedStopId">Arrives at:
                {{route.arrivalHour}} at {{route.endStop.stopId.name}}</div>
            @for(stop of route.stops; track stop.stopId) {
            <div [appHighlightStop]="stop.stopId._id" [searchedStopId]="searchedStopId">
                <div>{{stop.stopId.name}}</div>
                <div>Arrives at:{{stop.arrivalTime}}</div>
                <div>Departs at:{{stop.departureTime}}</div>
                @if(stop.sector) {
                <div>Sector:{{stop.sector}}</div>
                }
            </div>

            }
            <div>Duration: {{route.duration}}</div>
            <div>Distance: {{route.distance}}</div>
        </div>
        }
    </div>
</div>